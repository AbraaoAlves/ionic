machine:
  node:
    version: v0.10.26
  ruby:
    version: 2.1.2
checkout:
  post:
    - "[[ ! -s \"$(git rev-parse --git-dir)/shallow\" ]] || git fetch --unshallow"
dependencies:
  post:
    - bower install
test:
  override:
    - ./scripts/circle/test.sh --index=$CIRCLE_NODE_INDEX --total=$CIRCLE_NODE_TOTAL: {parallel: true}
deployment:
  tasks:
    branch: myRelease
    commands:
        - ./node_modules/.bin/gulp build
general:
  artifacts:
    - "dist/" # exposing dist content
